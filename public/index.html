
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>georgepowell.info</title>
  <meta name="author" content="George Powell">

   
  <meta name="description" content="George Powell's website">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://georgepowell.info">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="georgepowell.info" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/">Home</a></li>
    
        <li ><a href="/about-me.html">About</a></li>
    
</ul>

<ul class="nav pull-right">

    <li><a href="http://stackexchange.com/users/55154/george-powell" title="Stack Exchange Profile"><i class="icon-stackexchange social-navbar"></i></a></li>
    <li><a href="http://youtube.com/georgepowell" title="Youtube Profile"><i class="icon-youtube-sign social-navbar"></i></a></li>



    
    <li><a href="http://github.com/georgepowell" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="https://www.linkedin.com/pub/george-powell/56/3ab/222" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/thegeorgepowell" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://plus.google.com/+GeorgePowell1" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://facebook.com/georgepowell1" title="Facebook Profile"><i class="icon-facebook-sign social-navbar"></i></a></li>
    
    

    
    <li><a href="mailto:georgepowell_1@hotmail.co.uk" title="Email"><i class="icon-envelope social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    
      georgepowell.info
    
    <h3 class="tagline">
      
        George&#8217;s dumping ground/blog/website etc.
      
    </h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-08-27T23:04:57+01:00" pubdate data-updated="true">Aug 27<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/lambda-functions-in-vanilla-javascript/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/lambda-functions-in-vanilla-javascript/">C# Lambda functions in vanilla javascript</a></h1>
      <p>Introducing <a href="/docs/z.js">z.js</a> &ndash; a javascript function (under 1kb) that allows you to use C# style lambda statements from vanilla javascript.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Z</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">lambda</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">lambda</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; =&gt; &quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">inputs</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">code</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">$$</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">expression</span> <span class="o">=</span> <span class="nx">code</span><span class="p">;</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">inputs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">$$</span><span class="p">[</span><span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class='line'>          <span class="nx">expression</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">]).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;$$[&#39;&quot;</span> <span class="o">+</span> <span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="nx">expression</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Usage</h2>

<p>This kind of syntax is best used with functional-type programming with methods like <em>map</em> and <em>where</em>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Z</span><span class="p">(</span><span class="s2">&quot;a b c =&gt; a + b + c&quot;</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span> <span class="c1">// 6</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">// maps a list from one form to another using a &#39;processor&#39; function</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">processor</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">rtn</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">rtn</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">processor</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">rtn</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// filters a list based on a predicate function</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">where</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">predicate</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">rtn</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span><span class="p">(</span><span class="nx">predicate</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span>
</span><span class='line'>          <span class="nx">rtn</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">rtn</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="nx">Z</span><span class="p">(</span><span class="s2">&quot;a =&gt; a * a * a&quot;</span><span class="p">)));</span> <span class="c1">// [64, 125, 216, 8, 27, 64, 64, 8] </span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="nx">Z</span><span class="p">(</span><span class="s2">&quot;a =&gt; a % 2 === 0&quot;</span><span class="p">)));</span> <span class="c1">// [false, true, false, true, false, true, false, true, false]</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">(</span><span class="nx">where</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="nx">Z</span><span class="p">(</span><span class="s2">&quot;a =&gt; a % 2 === 0&quot;</span><span class="p">)),</span> <span class="nx">Z</span><span class="p">(</span><span class="s2">&quot;a =&gt; a + &#39; is even&#39;&quot;</span><span class="p">)));</span> <span class="c1">// [&quot;2 is even&quot;, &quot;4 is even&quot;, &quot;6 is even&quot;, &quot;8 is even&quot;] </span>
</span></code></pre></td></tr></table></div></figure>


<h2>Warning</h2>

<p>This is untested and potentially dangerous, or at its very best inefficient. Use with caution!</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-08-10T10:23:02+01:00" pubdate data-updated="true">Aug 10<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/numerical-methods-and-the-green-brain-project/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/maths/"><span class="badge">maths</span></a>
          
          <a href="/categories/programming/"><span class="badge">programming</span></a>
          
          <a href="/categories/research/"><span class="badge">research</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/numerical-methods-and-the-green-brain-project/">Numerical Methods and the Green Brain Project</a></h1>
      <p><a href="/writing/i-for-one-welcome-our-new-insect-overlords/">I posted about the Green Brain Project</a> a while ago before starting my placement there. Last week I finished, after spending 6 weeks working with the team investigating ways to improve their numerical simulation methods. For the interested I&rsquo;ll summarise the work I&rsquo;ve done. The full report <a href="/docs/improving-simulation-methods.pdf">can be found here</a>.</p>

<h2>The Spine-Creator tool</h2>

<p>Spine-creator is a tool for building and simulating biological neural networks, built by <a href="http://www.alexcope.co.uk/">Alex Cope</a> of the Green Brain Project. It&rsquo;s designed to be powerful, flexible and usable by non-programmers, with a graphical user interface to visualise and build the networks. &lsquo;Components&rsquo; can be designed and connected together with other components, and the system can be compiled and simulated from within the program. The tool is open source and can be <a href="https://github.com/SpineML/SpineML_2_BRAHMS">found on GitHub here</a>.</p>

<p><img src="/images/spine-creator.png" width="700" alt="Spine-Creator visual interface" /></p>

<p><em>The Spine-Creator visual interface</em></p>

<p>The behaviour of components are usually specified with systems of <a href="http://en.wikipedia.org/wiki/Ordinary_differential_equation">Ordinary Differential Equations (ODEs)</a>: mathematical systems that start at a given state and progress through time acording to the differential equations. For neuron models, there would typically be variables and equations describing how voltages, resistances and chemical concetrations change over time from initial conditions.</p>

<p>Simulating these systems therefore requires <em>solving</em> these sets of equations, which usually isn&rsquo;t possible with the normal algebraic methods taught in school. Instead <a href="http://en.wikipedia.org/wiki/Numerical_methods_for_ordinary_differential_equations">numerical methods</a> are used, these are methods that calculate accurate estimates of how the system will behave, and are usually parameterised to give simulations of any desired accuracy.</p>

<h2>Forward Euler</h2>

<p>Forward Euler is the simplest and most common numerical method for solving ODEs, it is based on the definition of the differential, and can be written in a line or two of code (C#):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="c1">// Takes the value of a variable (initial) along with the rate-of-chage at that point (differential),</span>
</span><span class='line'><span class="c1">// returns an estimate of the value of the variable after a time-period (dt).</span>
</span><span class='line'><span class="kt">double</span> <span class="nf">forwardEuler</span><span class="p">(</span><span class="kt">double</span> <span class="n">initial</span><span class="p">,</span> <span class="kt">double</span> <span class="n">differential</span><span class="p">,</span> <span class="kt">double</span> <span class="n">dt</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">initial</span> <span class="p">+</span> <span class="n">dt</span> <span class="p">*</span> <span class="n">differential</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can see that the amount the initial value changes by is proportional to the rate it is changing <em>(differential)</em> and the length of time it is changing for <em>(dt)</em>. This method works, and can achieve any desirable accuracy if iterated over and over again with tiny values for <em>dt</em>. But has a number of <a href="http://en.wikipedia.org/wiki/Numerical_stability">stability problems</a> when simulating particular systems. For example if Forward Euler is used to solve a Sine-Cosine system&hellip;</p>

<p><img src="/images/forward-euler.png" width="500" alt="Sin-Cosine System" /></p>

<p>The result wildly and exponentially oscilates rather than stably moving between +/&ndash; 1.0. The Spine-Creator tool used the Forward Euler method, and this problem (along with others) was the motivation for the research project.</p>

<h2>Runge Kutta methods</h2>

<p>The main class of methods we investigated are called <a href="http://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods">Runge-Kutta methods</a>. They work by calculating the differential at multiple points between the intitial time and <em>dt</em>, and calculating an estimate of the state at the <em>end</em> of the time-step using a linear combination of those differentials. There are a number of algorithms in this class, the most popular being <strong>modified Euler</strong> and <strong>Runge-Kutta 4th Order</strong>. These methods provide more accurate, efficient and stable solutions and can be used with much larger values for <em>dt</em>.</p>

<h2>Adaptive time-step methods</h2>

<p>The methods described so far assume a value for <em>dt</em> has already been chosen. Adaptive time-step methods work by providing an estimate for the <em>error</em> introduced during a time period, and using that error estimate to suggest a new value for <em>dt</em> based on a given <em>error-tolerance</em>. These methods can, for example, use a very small <em>dt</em> during chaotic and difficult time-periods, and shift later to using a much larger <em>dt</em> when the system stabilises. The adaptive time-step method I investigated and implemented is called the <a href="http://en.wikipedia.org/wiki/Dormand%E2%80%93Prince_method">Dormand-Prince Method</a>. It can result in very efficient and very accurate solutions compared to similar fixed-time-step methods. Run on a single variable system (see the full report and code for details) the result clearly shows a changing time-step:</p>

<p><img src="/images/adaptive-step.png" width="500" alt="Sin-Cosine System" /></p>

<p>Visually, the dots get further apart as the system progresses and becomes more linear.</p>

<h2>Parallelisation and Synaptic Delays</h2>

<p>Part of the project&rsquo;s aims are to simulate the systems in paralell on GPUs. The bottleneck to doing this as it stands is to do with the large degree of connectivity within the network; sharing data between otherwise unconnected sub-systems prohibits simulating them in isolation, as their behaviour will always depend on other neurons from another part of the network. <a href="http://material.brainworks.uni-freiburg.de/publications-brainworks/2007/journal%20papers/Morrison-neco-07_47.pdf">We found a paper</a> that describes a method for isolating subsystems for a maximum period of time, which restricts data-flow between components based on the <em>synaptic delays</em> in the network. Using this method could potentially aid the paralellisation of the simulation.</p>

<h2>Awesome!</h2>

<p>So overall it was a super cool project and I learnt a lot. It&rsquo;s great to get back into mathsy-programming with an enthusiastic acedemic team. A big shoutout to the <a href="http://greenbrain.group.shef.ac.uk/">Green Brain Project</a> and the <a href="http://www.shef.ac.uk/sure">SURE scheme</a> for enabling this project and others for other students, I&rsquo;m looking forward to working with the team again in my 3rd year at the University.</p>

<h2>Code and full report</h2>

<ul>
<li><p>The methods mentioned were implemented in an isolated C++ program <a href="https://github.com/georgepowell/numerical-methods">available on GitHub</a>.</p></li>
<li><p>The full report which was handed in at the end of the placement <a href="/docs/improving-simulation-methods.pdf">is available here (pdf)</a>. This includes tons of details and extras that aren&rsquo;t mentioned in this blog post.</p></li>
</ul>


      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-05-11T10:59:34+01:00" pubdate data-updated="true">May 11<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/science-morality-and-politics/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/economics/"><span class="badge">economics</span></a>
          
          <a href="/categories/philosophy/"><span class="badge">philosophy</span></a>
          
          <a href="/categories/politics/"><span class="badge">politics</span></a>
          
          <a href="/categories/science/"><span class="badge">science</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/science-morality-and-politics/">Science, Morality and Politics</a></h1>
      <p>There&rsquo;s a philosophical position that goes something like this:</p>

<blockquote><p>A statement that has no <em>predictive</em> power, and therefore cannot be shown to be true or false, is meaningless.</p></blockquote>

<p>This is an attractive stance for the scientist who spends his or her life investigating and refining predictive models; it suggests a true objectivity to the world. It narrows the scope of knowledge down to that in which they are an expert. And if there&rsquo;s one undebatable truth in philosophy, it&rsquo;s that there are no undebatable truths in philosophy. And even that&rsquo;s debated.</p>

<p>Philosophical knowledge, by its very nature, is that set of knowledge that cannot be verified by experiment. It can&rsquo;t have predictive power: if it did it would no longer be philosophical. To the hard-line scientist, this is the ultimate shoot-down to philosophy, it makes philosophy meaningless.</p>

<p>But there is a second role of knowledge missing from this view. Even without predictive power, knowledge and beliefs effect our behaviour and decisions. Enter moral philosophy: the world of knowledge that, despite not being verifiable, influences every action we make. Although, to the scientist, subjectivity may be seen as inherently negative, even the most stringent scientist will hold personal ethical beliefs, out of touch from their science. It&rsquo;s the point of the quote that ended my <a href="/../writing/i-for-one-welcome-our-new-insect-overlords/">last post</a>; talking about the inability of science to guide our decisions, Feynman concludes: <em>&ldquo;&hellip; at the end, <strong>you</strong> must have some ultimate judgment.&rdquo;</em></p>

<h2>Moral framework</h2>

<p>A moral framework is a set of beliefs &ndash; held by an individual &ndash; that can be used to ultimately answer all behavioural dilemmas. It fills the gap left by science, and exists as the ultimate end to <em>why</em> we do something the way we do. It adds a connection between our ideas of <em>good</em> and <em>bad</em> and the real world. To use a moral framework is to take a choice of possible actions, judge their worth according to the criteria within the framework, and choose the action of the most moral worth. As a computer scientist, it is analogous to a <a href="http://en.wikipedia.org/wiki/State_space_search">state-space search</a> or the <a href="http://en.wikipedia.org/wiki/Minimax">mini-max algorithm</a> &ndash; both exist to make decisions in a simulated world based purely on some external measure of &ldquo;success&rdquo;.</p>

<p>Although moral frameworks are subjective, most of us share some intuitive, ambiguous ideas of right and wrong. It&rsquo;s wrong to hurt someone. It&rsquo;s wrong to take away someone&rsquo;s freedom. Our actions may be judged by their consequences to people&rsquo;s happiness. Our actions may also be judged on our <em>intent</em>. Some actions can be wrong <em>in principle</em>, regardless of circumstance. These views can all be true to different extents for different people. And people struggle internally with how to bind them together into a single unambiguous moral framework. It&rsquo;s possible to try and reason and justify these views, but being within the realm of philosophical knowledge, it often results in unresolvable ideological food-fights.</p>

<h2>Where does science come in?</h2>

<p>It&rsquo;s established that science alone cannot derive an objective moral framework or ideology. It&rsquo;s the ultimate reason that political debate often seems so futile and endless. It creates a frustration amongst scientists, so used to seeking objectivity in their field that they call for scientific principles to be introduced into policy making &ndash; with the hope of ending this ongoing political shouting in favour of evidence based policy. But if our ideologies are personally chosen, what is the role of science in policy making?</p>

<p>A policy is not the same as an ideology. A policy is a set of real-world rules, which have real-world consequences <em>hopefully</em> pushing society closer to the ideals of the policy-creator. Say the politician in charge is a libertarian: he believes the worth of a policy should be judged by its effects in enabling <strong>individual freedom. </strong>The policy gives people freedom? <strong>GOOD.</strong> The policy takes away people&rsquo;s freedom? <strong>BAD.</strong> The politician justifies his no-taxes, no-regulation economic policies with his ideology:</p>

<blockquote><p>Taxes and regulation take away the freedom of individuals to trade with each other as they both see fit. Taking away money and enforcing our own rules on other people&rsquo;s personal trades is <em>wrong</em> because they should have the freedom to trade with each other as they want, so long as the trade doesn&rsquo;t take away the rights of others.</p></blockquote>

<p>On its surface, it may look like this policy is only debatable on ideological grounds. But look deeper and we can see how this policy actually has two parts: The ideology is to promote freedom to individuals, the claim is that reducing taxes and regulation <em>will result</em> in satisfying these ends.</p>

<p>Say the policy is implemented. People are free to trade as they see fit within the lenient restraints of the new &lsquo;libertarian&rsquo; society. Say, over time the economy grows and large companies are allowed to form and merge. It turns out, in this society, that it is in the large companies&#8217; profit interests to fix prices and create repressive monopolies &ndash; harvesting all wealth from the less well-off and restricting their employment options so, given a <em>free</em> choice under the law, citizens <em>have</em> to choose to work for the monopolistic companies. It&rsquo;s the only option to survive. Would the libertarian politician &ndash; who values social mobility and individual freedoms &ndash; consider this society &lsquo;free&rsquo;? If he&rsquo;d have known that the long term consequences of his policies would be that the 99% do not have a practical choice over their lifestyle or employment?</p>

<p>It&rsquo;s a hypothetical story, the point is not about economics, and it is especially not a criticism aimed at the libertarian ideology. Instead, the story illustrates that an acceptable justification of a policy rests on more than just an ideology. It should rest on evidence that the <em>policy&rsquo;s consequences work towards the ideology.</em> The failure of the above policy in achieving its ideological aims was not a fault of the ideology itself, it was the fault of the politician&rsquo;s naive understanding of the policy&rsquo;s consequences.</p>

<h2>Evidence based policy</h2>

<p>When scientists like me call for science based policy, we should call for the <em>consequences</em> of policies to be investigated scientifically, not their ideological foundations. A country being run without this step of investigation cannot make educated choices between policies. The naivety of politicians regarding the effects of their own policies is solvable with science, and it is here that science based policy should flourish. Ignorance about the limitations of science, which politicians may be more aware of than scientists, unnecessarily weakens the otherwise valid and important efforts of scientists in improving the quality of our policies. Science should have its place in politics, but misunderstandings and confusions about the roles of science and ideology need to be tackled before the scientific method can be fully taken advantage of within politics.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-29T12:29:17+01:00" pubdate data-updated="true">Apr 29<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/i-for-one-welcome-our-new-insect-overlords/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/robotics/"><span class="badge">robotics</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/i-for-one-welcome-our-new-insect-overlords/">I, for one, welcome our new insect overlords</a></h1>
      <p><em>This post was written as a university assignment April 2014. I&rsquo;ve been offered a 6 week internship working for the Green Brain Project in Summer 2014.</em></p>

<h2>Why creating autonomous honey bee quad-copters is the next logical step.</h2>

<p>From <strong>The Terminator&rsquo;s</strong> cold hearted cyborg assassin, to the heart-throb operating system <em>Samantha</em> in <strong>Her</strong>, science fiction has long been predicting the rise of humanoid robots. The huge potential for AI and robotics to either improve or destroy our society has been illustrated countless times, including Isaac Asimov&rsquo;s dramatic I-robot &ndash; with a utopian work-free society turning quickly to a robot-controlled utilitarian dictatorship. However, regardless of the disruption these technologies will bring, research and innovation into autonomous robotics will continue at an always increasing rate.</p>

<p><a href="http://greenbrain.group.shef.ac.uk/">Sheffield&rsquo;s Green Brain project</a> aims to contribute to this revolution by reverse engineering the brain of a honey bee, and creating autonomous flying honey bee robots controlled by a simulation of the brain. Within the Kroto Innovation center at the University of Sheffield, their setup is impressive: A clinically white observation room, with a large window on one side, sits almost empty apart from three powerful, expensive gaming PCs stacked in the corner, and a grey metallic quad-copter sitting apprehensively in the center.</p>

<p><img src="https://pbs.twimg.com/media/BimDd5kCQAEjz8A.jpg" alt="Quadcopter flying" /></p>

<p><em>The Green Brain&rsquo;s Quad-copter</em></p>

<p>The quad-copter is the honey bee &ndash; kitted up at every corner with sensors and receivers, mimicking accurately those of an actual bee. The gaming PCs are its <em>brain</em> &ndash; simulating a large and complex neural network on massively parallel GPUs.</p>

<p>This is the result of over two year&rsquo;s hard work from the Green Brain Team &ndash; a small but impressive team of academics and engineers working at Sheffield. This work, they claim, is the next logical step in driving forward our understanding of our minds, and perhaps bringing us closer to the society abound with robots predicted unanimously by science fiction.</p>


      
       <a href="/writing/i-for-one-welcome-our-new-insect-overlords/">&#8230; More &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-16T23:23:56+01:00" pubdate data-updated="true">Apr 16<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/maths-aint-magic/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/maths/"><span class="badge">maths</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/maths-aint-magic/">Maths ain&#8217;t magic</a></h1>
      <h1>Imaginary numbers and the nature of mathematics</h1>

<p>I first heard of imaginary numbers when someone showed me the <a href="http://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot Set</a>:</p>

<p><img src="https://lh4.googleusercontent.com/-nnOUsGwmsEw/AAAAAAAAAAI/AAAAAAAAAAA/xgyUbcFMo6g/photo.jp" alt="Mandelbrot visualisation" /></p>

<p>They described it to me:</p>

<blockquote><p>The x axis is for the real numbers, and the y axis is for the imaginary numbers. The colour of each pixel is determined by the properties of the imaginary and real numbers it represents.</p></blockquote>

<p>My reaction was confusion, as it should have been. That picture sure doesn&rsquo;t look imaginary. And how can these numbers exist on a computer if they&rsquo;re imaginary? Maybe I&rsquo;m not smart enough to understand, maybe it&rsquo;s a concept only accessible to the minds of mathematitions. What are imaginary numbers?</p>

<blockquote><p>Well&hellip; They&rsquo;re <em>made up</em> numbers that don&rsquo;t really exist like normal numbers do. There&rsquo;s <strong>no</strong> number that can be squared into a negative number, so we make up the imaginary numbers!</p></blockquote>

<p>I learnt to program in my teens and when I <a href="http://www.newgrounds.com/portal/view/501340">wrote my own mandelbrot set visualiser</a> I realised it doesn&rsquo;t really need <em>imaginary-made-up</em> numbers after all. All it needs is two standard real numbers and a formula.</p>

<p>What&rsquo;s &lsquo;imaginary&rsquo; about imaginary numbers then? Well &lsquo;real&rsquo; negative numbers don&rsquo;t have &lsquo;real&rsquo; square roots, so we call their roots &lsquo;imaginary&rsquo;. It&rsquo;s a <em>name</em>. Are they more imaginary that the &lsquo;real&rsquo; numbers? No. You don&rsquo;t need a special type of calculator or a special kind of pen to calculate with imaginary numbers. It&rsquo;s really not the best naming decision: calling a fundamental and useful concept &lsquo;imaginary&rsquo; scares and confuses people away from trying to understand it. The crux to understanding imaginary numbers is to realise how normal and unimaginary they really are.</p>

<p>Mathematics studies <em>formal abstractions</em> &ndash; mental constructions that have been defined so carefully and unambiguously that their properties become objective. 1, 2, 3 and the rest of the counting numbers, they&rsquo;re all abstractions: concepts we create to categorise, percieve and understand the world. We use abstractions to represent things, and whether abstractions are &lsquo;real&rsquo; or not doesn&rsquo;t even matter; <em>they&rsquo;re all as real or unreal as each other</em>. <strong>Imaginary numbers and real numbers exist equivalently as mathematical abstractions</strong>; useful tools to represent the world we live in.</p>

<p>It&rsquo;s the way the mind works. We develop concepts and abstractions to represent the world and its behaviour &ndash; mathematics studies the subset of these concepts that have been formally defined. To know <em>what infinity is</em>, or <em>what an imaginary number is</em>, is really just knowing how the mind uses abstractions to represent our surroundings.</p>

<p>The view that mathematics is just concepts and abstractions in our psychology is far from the only accepted philosophy. There&rsquo;s <a href="http://en.wikipedia.org/wiki/Philosophy_of_mathematics#Contemporary_schools_of_thought">plenty of schools of thought</a> around what maths is. For me, however, any <a href="http://en.wikipedia.org/wiki/Platonism">existential or borderline-spiritual</a> view of mathematical knowledge has caused more confusion and  gotten in the way of learning the actual maths.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-10T12:26:40+01:00" pubdate data-updated="true">Apr 10<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/greshams-law-and-bitcoin-deflation/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/bitcoin/"><span class="badge">bitcoin</span></a>
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/economics/"><span class="badge">economics</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/greshams-law-and-bitcoin-deflation/">Gresham&#8217;s Law and Bitcoin deflation</a></h1>
      <p>You&rsquo;re at the local store buying some bread and milk. The cashier asks you for £3.35. You open your wallet and you&rsquo;ve got two £5 notes:</p>

<h3>Crusty old £5:</h3>

<p><img src="http://i.dailymail.co.uk/i/pix/2011/03/21/article-0-00F3EED2000004B0-407_468x263.jpg" alt="Old note" /></p>

<h3>Crisp new £5:</h3>

<p><img src="http://i.dailymail.co.uk/i/pix/2009/08/24/article-0-00F3EED2000004B0-777_468x249.jpg" alt="New note" /></p>

<p>Which one do you give to the cashier?</p>

<p>Unless you&rsquo;re feeling kind &ndash; that is, you&rsquo;re not an <a href="http://en.wikipedia.org/wiki/Homo_economicus">economic man</a> &ndash; you&rsquo;d want to get rid of your crusty old £5 note; they&rsquo;re worth the same amount to the cashier, so you&rsquo;d be a fool to give up the shiny new one for nothing extra. This is the basis of a paradoxical truth in economics: the measure of a currency&rsquo;s success is if it is used in transactions, yet the <em>shiny, new, better</em> £5 notes will get hoarded while the old ones get traded. <strong>People want to get rid of <em>bad</em> currency, which means it&rsquo;s used more in transactions</strong>. Enter <a href="http://en.wikipedia.org/wiki/Gresham's_law">Gresham&rsquo;s Law</a>:</p>

<blockquote><p>Gresham&rsquo;s law is an economic principle that states: &ldquo;When a government overvalues one type of money and undervalues another, the undervalued money will leave the country or disappear from circulation into hoards, while the overvalued money will flood into circulation.&rdquo; It is commonly stated as: &ldquo;Bad money drives out good&rdquo;.</p></blockquote>

<p> We can rewrite the above scenario with bitcoin replacing the new shiny £5 note, and our standard fiat currencies as the old one. Presuming bitcoin is accepted universally and is as easy to pay with as paying by card, which one should you choose?</p>

<p> Bitcoin is digital gold: there is a finite supply. Cash is subject to continuous steady inflation: its value will always be gradually decreasing. So assuming the novelty of spending bitcoin has worn off in this future, it would make sense to keep your value-preserving-bitcoin and get rid of your cash. This is one reason why economists critisise the deflationary (or at least zero-inflation) nature of bitcoin.</p>

<p> The reality is complex, however, and this property doesn&rsquo;t necessarily detract from its other advantages. But this is one reason for believing that even if bitcoin is successful, it won&rsquo;t <em>replace</em> other currencies too easily.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-09T10:28:57+01:00" pubdate data-updated="true">Apr 9<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/big-pharma-book-review/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/book-review/"><span class="badge">book-review</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/big-pharma-book-review/">Big Pharma - Book review</a></h1>
      <p><img src="http://sciencebasedpharmacy.files.wordpress.com/2012/11/bad-pharma.png" alt="Bad Pharma book cover" /></p>

<p>We take pride in our western medicine. We believe it is evidence based, objective, and working with the correct incentives. Instead, Ben Goldacre writes: <em>(p238)</em></p>

<blockquote><p>&hellip; We have occasional, small brief trials, in unrepresentative populations, testing irrelevant comparisons, measuring irrelevant outcomes, with whole trials that go missing, avoidable design flaws, and endless reporting biases that only persist because research is conducted chaotically, for commercial gain, in spuriously expensive trials. The poor-quality evidence created by this system harms patients around the world.  <strong>And if we wanted, we could fix it.</strong></p></blockquote>

<p>This is a powerful book, with a clear and unforgiving message: Western medicine is not as scientific as we are told; the system is corrupt and industries work with their own profits in mind.</p>

<h3>Bad Science</h3>

<p>Goldacre is known for his blog &ndash; <a href="http://www.badscience.net/">Bad Science</a>, where he debunks claims ranging from the <a href="http://www.theguardian.com/science/2007/nov/16/sciencenews.g2">proficiency of homeopathy</a> to the popular <a href="http://www.badscience.net/2007/02/ms-gillian-mckeith-banned-from-calling-herself-a-doctor/">nutrician supplements of &ldquo;Dr&rdquo; Gillian Mckieth</a>. He turns his attention here to the more serious mispractices going on in western medicine as a whole.</p>

<p>It is a long book, covering over 350 pages excluding notes, illustrating his points with shocking stories and backing them up with hard evidence where possible. He covers many topics, ranging from the widely unsolved positive publication bias in academic journals, to &lsquo;regulatory capture&rsquo;: how pharmacutical companies become their own regulators. The book ends with an unforgiving tour-de-force breakdown of how marketting is used to decieve doctors and patients.</p>

<p>Goldacre knows this isn&rsquo;t an academic paper, and he communicates to his readers early on that it shouldn&rsquo;t be treated as one. However the result is a book that treads a confusing line between sensationalist popular science and a seminal analysis of a very serious problem. The points in this book, however, need to be treated with respect by the people in power, even though it is aimed at the general public.</p>

<p>I really enjoyed and learnt a lot from this book, and I&rsquo;d recommend it especially to those involved in medicine &ndash; who will be in a better position than I am to comment on the problems raised here, and maybe do something about them.</p>

<p><a href="http://www.amazon.co.uk/Bad-Pharma-How-Medicine-Broken/dp/000749808X">Buy Ben Goldacre&rsquo;s Bad Pharma on Amazon.co.uk</a></p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-08T14:33:37+01:00" pubdate data-updated="true">Apr 8<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/giving-up-on-bitcoin/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/bitcoin/"><span class="badge">bitcoin</span></a>
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/economics/"><span class="badge">economics</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/giving-up-on-bitcoin/">Bitcoin as a product</a></h1>
      <p><em>Please note I&rsquo;m not an expert on Bitcoin. I write about this stuff for fun.</em></p>

<p>I&rsquo;ve been close to investing in Bitcoin over the past couple of months; its promise as a technology comparable to the internet of 20 years ago is severely tempting. If it ever gains wide acceptence, even a small investment could be worth big money in the coming decades. But I&rsquo;ve given up &ndash; for the moment at least &ndash; on that hope. Here&rsquo;s why:</p>

<h3>Money for the people</h3>

<p>Bitcoin is oft peddled with an economic libertarian ideology. Our fiat currencies are controlled and regulated by the banks and governments, adding fees and friction to transactions. By relying on the system as it is, we hand our power to an unrepresentative minority who can profit from and manipulate our fiat currencies, not necessarily with the majority&rsquo;s best interests in mind. Bitcoin is a decentralised currency that can&rsquo;t be controlled by an individual party, it lets regular folk and small businesses make transactions to each other without needing to trust a third party. This is true, but it&rsquo;s not the whole story.</p>

<h3>The current system</h3>

<p>To gain a real understanding of where bitcoin sits as a technology, we need to understand how the current system works, and what problems (if any) bitcoin solves.</p>

<p>First, lets look at hard cash &ndash; the stuff we carry around in our wallets. Already, cash has some of the essential properties that bitcoin claims: It&rsquo;s untracable, unregulatable, and anonymous; perhaps to a greater extent even than bitcoin. Cash is used for drugs, weapons, money laundering, untaxed income, you name it. Nobody can charge a small business for the right to accept cash. Cash falls down at two hurdles, however: it&rsquo;s not digital, and control of its production is centralised. We&rsquo;ll look at what this really means in a second.</p>

<p>Now lets look at banks and the digitised money they offer through debit and credit cards. By digitising our cash and giving it to the banks, some important things have now changed: it is no longer untracable, anonymous, and unregulatable. By trusting the banks with our money we have sacrificed this for some serious benefits: They keep our money more secure than we could realistically keep cash, they offer fast digital transactions around the world and online, often with no fees or friction, and they offer interest on our savings at no extra cost. The currency is still the same as our cash, so production doesn&rsquo;t change hands. The important thing to realise here is that banks are offering a real service to us in securing and digitising our cash, and in some sense bitcoin must solve a problem not already solved by the combination of modern banking and cash.</p>


      
       <a href="/writing/giving-up-on-bitcoin/">&#8230; More &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-13T13:48:59+00:00" pubdate data-updated="true">Mar 13<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/incogno/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/chrome/"><span class="badge">chrome</span></a>
          
          <a href="/categories/javascript/"><span class="badge">javascript</span></a>
          
          <a href="/categories/programming/"><span class="badge">programming</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/incogno/">Chrome extension #1: Subnito</a></h1>
      <p>I decided to create a chrome extension last week, it was surprisingly simple. Chrome extensions basically give you a very simple way to inject your own javascript into whatever webpages you like, plus have access to chrome&rsquo;s own APIs for playing with tabs or storing data etc. The whole extension uses nothing but javascript (you can add jquery etc. if you like), and HTML. Even the .manifest file is JSON.</p>

<p>Subnito was my first serious chrome extension. It uses the reddit API to detect if you&rsquo;re browsing an 18+ subreddit on reddit.com and pushes you into incognito mode if so.</p>

<p>The bulk of the work is done in one short file.</p>

<p><strong>background.js</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// Trigger this code onBeforeNavigate to any url. This happens even before the web request has been made to increase speed.</span>
</span><span class='line'><span class="nx">chrome</span><span class="p">.</span><span class="nx">webNavigation</span><span class="p">.</span><span class="nx">onBeforeNavigate</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">details</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">details</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">bare_url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;http://&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span> <span class="c1">// remove protocol</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">match_string</span> <span class="o">=</span> <span class="s2">&quot;www.reddit.com/r/&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">bare_url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">match_string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="o">===</span> <span class="nx">match_string</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// check if we&#39;re on a reddit subreddit</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">subreddit</span> <span class="o">=</span> <span class="nx">bare_url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">];</span> <span class="c1">// extract the subreddit name</span>
</span><span class='line'>      <span class="c1">// request a json document giving the details of the sub using the reddit API</span>
</span><span class='line'>      <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">&quot;http://www.reddit.com/r/&quot;</span> <span class="o">+</span> <span class="nx">subreddit</span> <span class="o">+</span> <span class="s2">&quot;/about.json&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;over18&#39;</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// check the boolean over18 flag in the returned json</span>
</span><span class='line'>              <span class="nx">chrome</span><span class="p">.</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">details</span><span class="p">.</span><span class="nx">tabId</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="p">});</span> <span class="c1">// remove non-incognito tab</span>
</span><span class='line'>              <span class="nx">chrome</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">deleteUrl</span><span class="p">({</span> <span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="nx">url</span><span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="p">});</span> <span class="c1">// delete url from history completely</span>
</span><span class='line'>              <span class="nx">chrome</span><span class="p">.</span><span class="nx">windows</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span> <span class="s2">&quot;incognito&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">// open incognito window</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://github.com/georgepowell/subnito">Full source code on GitHub</a></p>

<p><a href="https://chrome.google.com/webstore/detail/subnito/cdbdngojiagnofammchefeeaacdifikn">Install on Chrome Store</a></p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-13T09:37:35+00:00" pubdate data-updated="true">Mar 13<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://georgepowell.info/writing/hello-world/#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/categories/blog/"><span class="badge">blog</span></a>
          
          <a href="/categories/octopress/"><span class="badge">octopress</span></a>
          
          <a href="/categories/setup/"><span class="badge">setup</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/writing/hello-world/">Hello World!</a></h1>
      <h3>&hellip; From the beautiful mix of technologies that make this site</h3>

<p>I&rsquo;ve put off making a website for so long (I&rsquo;ve had this domain pointing to nothing for 2+ years) because I believed that if I was going to do it, I&rsquo;d do it <em>properly</em> and build the whole thing myself. But I dislike CSS and I&rsquo;ve always found more fun things to do. I&rsquo;ve finally found a few technologies cool enough for me to get excited about using, and it only took an hour to get this fancy looking site running.</p>

<h2>Octopress</h2>

<p><a href="https://github.com/imathis/octopress">Octopress</a> is a fantastic (free, open source) blogging platform built on <a href="https://github.com/jekyll/jekyll">Jekyll</a>: a fantastic (free, open source) static site generator that uses <a href="https://www.ruby-lang.org/en/">Ruby</a>: a simple, compact, open-source language similar to python. Pages and posts are written in <a href="http://daringfireball.net/projects/markdown/">markdown</a> (an extremely simple syntax for writing basic documents) and auto-compiled into a static site. There&rsquo;s loads of free octopress themes available at <a href="http://opthemes.com/">opthemes.com</a>. The theme on this page is <a href="https://github.com/alexgaribay/octoflat">Octoflat</a>, a minimal flat theme built using <a href="http://getbootstrap.com/">Twitter Bootstrap</a> &ndash; which, finally, is a large front-end web development library which makes it much easier to build functional good looking sites. Beautiful! It&rsquo;d have taken me years to build this <em>the proper way</em>.</p>

<h2>Heroku</h2>

<p><a href="https://www.heroku.com/">Heroku</a> is a hosting website that supports ruby apps and deploying with a &lsquo;git push heroku master&rsquo;. Couldn&rsquo;t be simpler.</p>

<p>This website&rsquo;s sourcecode is available (complete with all posts in markdown) on <a href="https://github.com/georgepowell">my GitHub page</a>, but if you want to make a copycat of some sort you&rsquo;d be best working from the octopress default template directly.</p>

      
      
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    

    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2014 - George Powell -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'georgepowellinfo';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
